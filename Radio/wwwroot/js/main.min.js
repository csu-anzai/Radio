function onYouTubeIframeAPIReady(){function e(){n.start().then(function(){n.invoke("Connected")})}function o(t){t.data===YT.PlayerState.PLAYING?(i||n.invoke("Played"),i=!0):t.data===YT.PlayerState.PAUSED&&(i=!1)}function f(){function n(n){$.get("/Track/Current",n)}function t(n){$.get("/Track/Queue",n)}n(function(n){t(function(t){function i(n,t){u.append($(`<li class="${n}">${t}</li>`))}u.empty();i("list-group-item active rounded-0",n.title);for(const n of t)i("list-group-item",n.title)})})}onYouTubeIframeAPIReady=undefined;let t,i=!1;const n=(new signalR.HubConnectionBuilder).withUrl("/radio").build();n.on("UpdateTrack",function(n){t.loadVideoById(n);f()});n.on("SyncTimeStamp",function(n){t.seekTo(n)});n.on("SyncVideo",function(n,i){t.loadVideoById(n,i);f()});t=new YT.Player("player",{width:"100%",height:"100%",playerVars:{controls:1,disablekb:1,fs:0,iv_load_policy:3},events:{onReady:e,onStateChange:o}});const r=$("div.track-list"),u=r.find("ul");(function(){function u(){i?(n.removeClass("video-and-track-list"),n.addClass("video-only"),t.removeClass("active"),r.css("display","none")):(n.addClass("video-and-track-list"),n.removeClass("video-only"),t.addClass("active"),r.css("display",""));i=!i}const n=$("main"),t=$("#track-list-toggle"),f=t.find("a");let i=!1;u();f.click(u)})()}